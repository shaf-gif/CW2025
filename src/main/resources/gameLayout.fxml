<?import com.comp2042.ui.GameOverPanel?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Rectangle?>
<?import java.net.URL?>
<StackPane fx:controller="com.comp2042.ui.GuiController" xmlns:fx="http://javafx.com/fxml">

    <!-- Tetromino Background Container -->
    <Pane fx:id="tetrominoGameBackgroundContainer" StackPane.alignment="CENTER" />

    <Pane fx:id="gameContainer">
        <GridPane fx:id="brickPanel" vgap="1" hgap="1" />

        <BorderPane styleClass="gameBoard" fx:id="gameBoard">
            <center>
                <GridPane fx:id="gamePanel" hgap="1" vgap="1" layoutY="0" layoutX="40" />
            </center>
        </BorderPane>

        <VBox layoutX="260" layoutY="16" spacing="4" alignment="TOP_CENTER" styleClass="side-panel">

            <HBox spacing="10" alignment="CENTER" prefWidth="200" prefHeight="38" styleClass="score-level-box">

                <Label fx:id="scoreLabel"
                       text="SCORE: 0"
                       minWidth="0"
                       styleClass="score-label">
                    <HBox.margin> <Insets top="4" bottom="4" left="10"/> </HBox.margin>
                    <HBox.hgrow>ALWAYS</HBox.hgrow>
                </Label>

                <Label fx:id="levelLabel"
                       text="LEVEL: 1"
                       minWidth="0"
                       alignment="CENTER"
                       styleClass="score-label">
                    <HBox.margin> <Insets top="4" bottom="4" right="10"/> </HBox.margin>
                    <HBox.hgrow>ALWAYS</HBox.hgrow>
                </Label>
            </HBox>
            <Label fx:id="slowModeIndicator"
                   text="SLOW MODE ACTIVE"
                   visible="true"
                   styleClass="slow-mode-indicator"
                   alignment="CENTER"
                   maxWidth="Infinity">
                <VBox.margin> <Insets top="2" bottom="2" /> </VBox.margin>
            </Label>
            <HBox spacing="20" alignment="CENTER">
                <Button fx:id="pauseButton"
                        text="Pause"
                        prefWidth="80"
                        styleClass="primary-button"
                        onAction="#pauseGame" />

                <Button text="Restart"
                        prefWidth="80"
                        styleClass="primary-button"
                        onAction="#newGame" />

                <Button text="MainMenu"
                        prefWidth="80"
                        styleClass="primary-button"
                        onAction="#goMainMenu" />

                <Button fx:id="shadowButton"
                        text="Shadow: ON"
                        prefWidth="110"
                        styleClass="toggle-button"
                        onAction="#toggleShadow" />
            </HBox>

            <VBox spacing="4" alignment="CENTER">
                <VBox spacing="2" alignment="CENTER">
                    <Label text="Hold" styleClass="section-label" />
                    <StackPane alignment="CENTER" prefWidth="56" prefHeight="56" styleClass="preview-box">
                        <GridPane fx:id="holdPanel" hgap="1" vgap="1" alignment="CENTER" />
                    </StackPane>
                </VBox>

                <VBox spacing="8" alignment="CENTER">
                    <Label text="Next" styleClass="section-label" />

                    <StackPane alignment="CENTER" prefWidth="56" prefHeight="56" styleClass="preview-box">
                        <GridPane fx:id="nextPanel1" hgap="1" vgap="1" alignment="CENTER" />
                    </StackPane>

                    <StackPane alignment="CENTER" prefWidth="56" prefHeight="56" styleClass="preview-box">
                        <GridPane fx:id="nextPanel2" hgap="1" vgap="1" alignment="CENTER" />
                    </StackPane>

                    <StackPane alignment="CENTER" prefWidth="56" prefHeight="56" styleClass="preview-box">
                        <GridPane fx:id="nextPanel3" hgap="1" vgap="1" alignment="CENTER" />
                    </StackPane>
                </VBox>
            </VBox>
        </VBox>

        <Rectangle fx:id="overlay" visible="false" managed="false" width="300" height="510" styleClass="dim-overlay" />

        <Group fx:id="groupNotification" layoutX="14" layoutY="203">
            <VBox alignment="CENTER">
                <GameOverPanel fx:id="gameOverPanel" visible="false" />
            </VBox>
        </Group>
    </Pane>
    <stylesheets>
        <URL value="@window_style.css" />
        <URL value="@style.css" />
    </stylesheets>
</StackPane>